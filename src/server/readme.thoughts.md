# åå°

ä½¿ç”¨nodejsåå°ï¼Œkoa + GraphQL æ¡†æ¶

åå°æ•°æ®åº“ç”¨mongo

ç‰©å“æ é‡Œå±•ç¤ºçš„æ˜¯refï¼Œè€Œä¸æ˜¯base

æ‰“å¼€ç‰©å“æ çš„æ—¶å€™å®é™…ä¸Šæ˜¯åœ¨æŸ¥è¯¢â€œinventoriesâ€è¡¨ä¸­â€œæˆ‘â€æ‹¥æœ‰çš„é¡¹ç›®



ç‰©å“item baseè¡¨ï¼š dbname, value, weight, category(å¡«æ•°æ®é›†åç§°(gears, comsumables, books))

ç‰©å“ç³»åˆ—å­è¡¨ï¼š

gearsè¡¨ (åŒ…æ‹¬armorå’Œweapon)

- armor: ..., rating(é˜²æŠ¤), type(è½»ç”²ã€é‡ç”²), equip(å¤´ã€èº«ã€è¶³ã€æ‰‹), effects

- weapon: ..., rating(ä¼¤å®³), type(é•¿å‰‘ã€å•æ‰‹æ–§ã€åŒ•é¦–â€¦â€¦) equip(å•æ‰‹ï¼ŒåŒæ‰‹), effects

(æ­¦å™¨å’ŒæŠ¤ç”²çš„åŒºåˆ†å°±æ˜¯æ ¹æ®type)

consumablesè¡¨ (åŒ…æ‹¬potionã€scrollã€foodã€ingredients)ï¼Œåœ¨typeå­—æ®µé‡ŒåŒºåˆ†

- potion: ..., effects(æ³•æœ¯æ•ˆæœ)æ•°ç»„

- ...

- åŒ…æ‹¬æ³•æœ¯ä¹¦

- scroll å½“ç„¶ä¸åŒ…æ‹¬ Elder Scrolls ... ğŸ˜

- å¼“ç®­å±äºgears(å› ä¸ºå¼“ç®­æœ‰ratingsï¼Œå¹¶ä¸”å¯ä»¥è£…å¤‡åœ¨èº«ä¸Š)ï¼Œå­å¼¹å±äºcomsumables

- å¼“ç®­åˆšå°„å‡ºæ—¶ï¼Œrefitemçš„numå‡å°‘1ã€‚å¦‚æœnumå‡å°‘åˆ°0ï¼Œåˆ™åˆ é™¤è¿™ä¸ªrefitemï¼Œå¹¶ä¸”åœ¨inventoriesè¡¨ä¸­éå†å¹¶åˆ é™¤è®°å½•ã€‚å½“å¼“ç®­ç€é™†æ—¶ï¼ˆå°„ä¸­ç›®æ ‡æˆ–å°„ååˆ°æ—è¾¹å¢™ä¸Šæ ‘ä¸Šï¼‰ï¼Œæ–°å¢ä¸€æ¡refitemï¼Œnumæ˜¯1ï¼Œitemä»ç„¶æ˜¯è¿™æ”¯ç®­ã€‚å…³äºownerï¼Œå¦‚æœå°„ä¸­Actorï¼Œé‚£ä¹ˆå°±æ˜¯è¿™ä¸ªactorï¼Œå¦‚æœå°„åï¼Œå°±æ˜¯nullã€‚ä½†æ˜¯è¿™ä¸ªéƒ½æ‰¯è¿œäº†ï¼Œç°é˜¶æ®µæˆ‘æ˜¯ä¸ä¼šåšæˆ˜æ–—çš„ã€‚

- äº¤æ˜“åŸç†ä¹Ÿç±»ä¼¼ã€‚å½“äº¤æ˜“å‘ç”Ÿæ—¶ï¼Œrefitemçš„numå‡å°‘1ã€‚å¦‚æœnumå‡å°‘åˆ°0ï¼Œåˆ™åˆ é™¤è¿™ä¸ªrefitemï¼Œå¹¶ä¸”åœ¨inventoriesè¡¨ä¸­éå†å¹¶åˆ é™¤è®°å½•ã€‚ç´§æ¥ç€ï¼Œåˆ›å»ºä¸€ä¸ªæ–°refitemï¼Œnumæ˜¯1ï¼Œitemæ˜¯è¿™æ ·ä¸œè¥¿ï¼Œè€Œowneræ˜¯æ¥æ”¶äººã€‚

books: ..., content(ä¹¦çš„å†…å®¹IDï¼Œä¹¦å…·ä½“å†…å®¹åœ¨translationsæ•°æ®é›†ä¸­)

ç©å®¶Actors: dbname, icon, equiped(è£…å¤‡ä¸­çš„è£…å¤‡)

ç‰©å“refè¡¨ï¼š dbname(å¤–é”®è¿ç‰©å“baseè¡¨ dbname), owner(å¤–é”®è¿ç©å®¶Actor refè¡¨ dbname)
num(ä¸ªæ•°)ã€‚

ç‰©å“inventoryè¡¨ï¼šå­˜æ”¾ç©å®¶çš„ç‰©å“æ æ•°æ®ã€‚(item: å¤–é“¾refItemsçš„ä¸»é”®_idï¼Œholder:å¤–è¿actorsçš„dbname)inventoryï¼Œnumç”±å‰ç«¯è®¡ç®—ç›¸åŒç‰©å“ï¼ˆitemç›¸åŒï¼Œownerä¹Ÿç›¸åŒï¼‰çš„æ‰€æœ‰refçš„numç›¸åŠ 

translationè¡¨ å­˜æ”¾ç¿»è¯‘å­—ç¬¦ä¸²ã€‚

